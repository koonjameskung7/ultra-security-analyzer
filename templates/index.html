<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultra Security Analyzer</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet"> 
    
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2300C4FF'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z'/%3E%3C/svg%3E">
</head>
<body>

    <div class="container">
        
        <h1 class="app-title">
            <span class="gradient-text">Ultra Security Analyzer</span>
        </h1>
        
        <form id="scanForm">
            <input type="text" id="urlInput" placeholder="https://securityheaders.com/" required>
            <button type="submit" id="scanButton">Scan</button>
        </form>
        
        <div id="error" class="error-message" style="display: none;"></div>

        <div id="loading" class="loading-overlay" style="display: none;">
            <div class="spinner"></div>
            <p>Analyzing Security Headers...</p>
        </div>

        <div id="results" class="results-section" style="display: none;">
            
            <div class="header-tabs">
                <button class="tab-button tab-button-general active" id="tabGeneral">‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</button>
                <button class="tab-button tab-button-expert" id="tabExpert">‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç</button> 
            </div>

            <div class="score-summary">
                <div class="score-circle-container">
                    <svg class="score-circle" width="160" height="160" viewBox="0 0 160 160">
                        <circle class="circle-bg" cx="80" cy="80" r="70"></circle>
                        <circle class="circle-progress" cx="80" cy="80" r="70"></circle>
                    </svg>
                    <div class="score-percentage" id="scorePercentage">0%</div>
                </div>
                
                <div class="rank-info">
                    <div class="rank-item">
                        <span class="rank-icon">üëÅÔ∏è</span> 
                        <span id="overallRank">Rank: F</span>
                    </div>
                    <div class="rank-item">
                        <div id="riskStars" class="star-rating"></div>
                        <span id="riskLevel">Risk: High</span>
                    </div>
                </div>
            </div>
            
            <div id="generalView" class="view-content active-view">
                <h2 class="section-title">Security Headers</h2>
                <div id="headerDetails" class="header-grid">
                    </div>
            </div>

            <div id="expertView" class="view-content">
                
                <div id="expertHeaderDetails">
                    <h2 class="section-title pass-title">‚úÖ PASS: Headers ‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏µ</h2>
                    <div id="passGroup" class="header-group-list"></div>

                    <h2 class="section-title warn-title">‚ö†Ô∏è WARNING: Headers ‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</h2>
                    <div id="warnGroup" class="header-group-list"></div>

                    <h2 class="section-title missing-title">‚ùå MISSING: Headers ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ï‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</h2>
                    <div id="missingGroup" class="header-group-list"></div>
                </div>
                
                <h2 class="section-title raw-title" style="margin-top: 50px;">Raw Headers Value</h2>
                <div id="rawHeadersContainer">
                    <table id="rawHeadersTable" class="raw-headers-table">
                        <thead>
                            <tr>
                                <th>Header Name</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            </tbody>
                    </table>
                </div>
                
            </div>
            
        </div>
    </div>
    
    <div id="aiSuggestionModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="modalHeaderTitle" class="modal-title">AI Suggested Fix for [Header Name]</h2>
            <div id="aiSuggestionLoading" style="text-align: center; color: var(--primary-blue); display: none;">
                <div class="spinner small-spinner"></div>
                <p>Generating suggested fix using Gemini AI...</p>
            </div>
            <div id="aiSuggestionError" class="error-message" style="display: none;"></div>
            
            <div id="aiSuggestionResult">
                <p id="aiSuggestionExplanation" class="ai-explanation"></p>
                
                <div id="aiSuggestedCodeContainer">
                    </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>